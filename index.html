<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>TRENDY WORLD SHOP</title>
  <style>
    /* Reset link underline */
    a { text-decoration: none !important; color: inherit; }
    html, body { overflow-x: hidden; margin: 0; padding: 0; width: 100%; }
    body { font-family: Arial, sans-serif; background: #f2f2f2; }
    header { background-color: #111827; color: white; padding: 20px; text-align: center; position: relative; }
    .admin-link { position: absolute; top:5px; left:5px; font-size:24px; color:white; }
    .admin-link:hover { color:#007bff; }
    .marquee { background:red; overflow:hidden; white-space:nowrap; }
    .marquee span { display:inline-block; padding-left:100%; animation:scroll 20s linear infinite; color:white; font-size:14px; font-weight:bold; }
    @keyframes scroll { from { transform:translateX(0); } to { transform:translateX(-100%); } }
    .filters { text-align:center; padding:20px; }
    .filters select { padding:12px 20px; font-size:16px; border-radius:25px; border:2px solid #ddd; margin:0 10px 20px; transition:.3s; }
    .filters select:hover { border-color:#007bff; background:#f0f8ff; }
    .grid { display:grid; grid-template-columns: repeat(auto-fill,minmax(240px,1fr)); gap:20px; padding:20px; max-width:1200px; margin:auto; }
    .product { background:#fff; border-radius:10px; overflow:hidden; box-shadow:0 2px 10px rgba(0,0,0,.05); text-align:center; transition:transform .2s ease; }
    .product:hover { transform:translateY(-5px); }
    .product img { width:100%; height:220px; object-fit:contain; }
    .product-title { padding:10px; font-size:16px; font-weight:bold; color:#333; }
    .product-price { padding:10px; font-size:16px; font-weight:bold; color:#000; }
    .product-colors { padding:5px 0; }
    .color-circle { display:inline-block; width:14px; height:14px; border-radius:50%; margin:0 3px; border:1px solid #ccc; }
    .social-banner { background:#808080; text-align:center; padding:10px 0; }
    .social-banner a img { width:40px; height:40px; margin:0 10px; vertical-align:middle; }
    @media(max-width:768px) { .grid { grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:15px; } .product-title{font-size:14px;} .product-price{font-size:12px;} }
    @media(max-width:480px) { .grid{grid-template-columns:1fr;gap:10px;} .filters select{width:160px;margin-bottom:15px;} }
  </style>
</head>
<body>

  <header>
    <h1>TRENDY WORLD SHOP</h1>
<div class="marquee">
  <span class="msg">En cliquant sur un article, vous serez automatiquement redirig√© vers le site CNFANS  ‚Ä¢  Clicking on an article will automatically redirect you to the CNFANS website </span>
  Attention, les prix affich√©s ne comprennent pas les frais de livraison  ‚Ä¢
  <span class="msg">Please note that the prices shown do not include delivery costs</span>
</div>
    <a href="admin.html" class="admin-link">üîí</a>
  </header>

  <div class="social-banner">
    <a href="https://cnfans.com/register?ref=212491" target="_blank">
      <img src="https://spreadsheetcnfans.my.canva.site/_assets/media/2ee61dcee3eb5c104658e8ee50dd3ba2.png" alt="CNFans">
    </a>
    <a href="https://www.tiktok.com/@trendy_world_off" target="_blank">
      <img src="https://cdn.pixabay.com/photo/2021/01/30/06/43/tiktok-5962993_1280.png" alt="TikTok">
    </a>
    <a href="https://www.instagram.com/trendy_world_off/" target="_blank">
      <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">
    </a>
    <a href="https://youtu.be/n_2sIEApRhk?si=wGym7D6Deui_vARg&t=12" target="_blank">
      <img src="https://cdn.iconscout.com/icon/free/png-256/free-youtube-104-432560.png?f=webp" alt="YouTube">
    </a>
  </div>

  <div class="filters">
    <select id="categoryFilter" onchange="filterProducts()">
      <option value="all">Toutes les cat√©gories</option>
      <option value="Mode Homme">Homme</option>
      <option value="Mode Femme">Femme</option>
      <option value="Chaussures">Chaussures</option>
      <option value="Parfums">Parfums</option>
      <option value="Accessoires">Accessoires</option>
    </select>

    <select id="brandFilter" onchange="filterProducts()">
      <option value="all">Toutes les marques</option>
    </select>

    <select id="sortSelect" onchange="filterProducts()">
      <option value="none">Trier par</option>
      <option value="price-asc">Prix croissant</option>
      <option value="price-desc">Prix d√©croissant</option>
    </select>
  </div>

  <div class="grid" id="productGrid"></div>

  <script>
    let products = [], brands = [], colors = [];

    // charger & trier marques
    fetch('brands.json')
      .then(r=>r.json())
      .then(data=>{
        brands = data.sort((a,b)=>a.localeCompare(b,'fr'));
        const bf = document.getElementById('brandFilter');
        brands.forEach(b=>{
          const o = document.createElement('option');
          o.value = o.textContent = b;
          bf.appendChild(o);
        });
      });

    // charger couleurs
    fetch('colors.json')
      .then(r=>r.json())
      .then(data=>{ colors = data; })
      .catch(console.error);

    // charger produits
    fetch('jadeship_products.json')
      .then(r=>r.json())
      .then(data=>{ products = data; filterProducts(); })
      .catch(console.error);

    function filterProducts(){
      const cat = document.getElementById('categoryFilter').value;
      const br  = document.getElementById('brandFilter').value;
      const sort = document.getElementById('sortSelect').value;

      let filtered = products.filter(p=>
        (cat==='all'||p.category===cat) &&
        (br==='all'||p.brand===br)
      );

      // appliquer le tri
      if(sort==='price-asc'){
        filtered.sort((a,b)=>a.price - b.price);
      } else if(sort==='price-desc'){
        filtered.sort((a,b)=>b.price - a.price);
      }

      displayProducts(filtered);
    }

    function displayProducts(list){
      const grid = document.getElementById('productGrid');
      grid.innerHTML = '';
      list.forEach(p=>{
        // cercles de couleur
        const circles = (p.colors||[]).map(code=>
          `<span class="color-circle" style="background:${code}"></span>`
        ).join('');

        const card = document.createElement('a');
        card.className = 'product';
        card.href = p.cnfans_link;
        card.target = '_blank';
        card.innerHTML = `
          <img src="${p.image}" alt="${p.title}">
          <div class="product-title">${p.title}</div>
          <div class="product-price">${p.price} ‚Ç¨</div>
          <div class="product-colors">${circles}</div>
        `;
        grid.appendChild(card);
      });
    }
  </script>

</body>
</html>
